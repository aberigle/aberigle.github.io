/*
  app v0.3.4 - 29/12/2022

  Author: aberigle - a.berzosa.iglesias@gmail.com
*/
!function(){var r,t,e,n;console.log("üëã Hay there, you can find me @aberigle (https://twitter.com/aberigle) üëç"),window.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(){class t{constructor(t){this.path=t}execute(t={},e,r,n){var i=new XMLHttpRequest;return i.onreadystatechange=function(t){return 4===i.readyState&&"function"==typeof n?n(t.target):void 0},i.open(r,this.path+e,!0),"POST"===r||"PUT"===r||"PATCH"===r?i.send(JSON.stringify(t)):i.send()}_get(t,e){return this.execute(null,t,"GET",e)}_post(t,e,r){return this.execute(t,e,"POST",r)}_put(t,e,r){return this.execute(t,e,"PUT",r)}_del(t,e){return this.execute(null,t,"DELETE",e)}}return t.prototype.path="",t}.call(this),t=class extends r{constructor(){super("http://home.csvifier.com:8081")}getImage(e){return this._get("/image",function(t){return"function"==typeof e?e(JSON.parse(t.response)):void 0})}},e=function(){var e;class t extends r{constructor(t){var e="https://ws.audioscrobbler.com/2.0/?format=json";super(e+="&api_key="+t)}getNowPlaying(t,r){t=e({method:"user.getrecenttracks",user:t,limit:1});return this._get(t,function(t){var e;return null!=(t=JSON.parse(t.response).recenttracks).track&&isArray(t.track)&&"true"===(null!=(e=(t=t.track[0])["@attr"])?e.nowplaying:void 0)?"function"==typeof r?r(t):void 0:"function"==typeof r?r():void 0})}}return e=function(t){var e,r="";for(e in t)r+=`&${e}=`+t[e];return r},t}.call(this),window.aberigle=n={},n.api={image:new t,lastfm:new e("9ad1ebab368b74b48c4fbd6cf095087e")},window.onload=function(){var e,r;return copyright.onmouseenter=function(){return document.body.classList.add("clean")},copyright.onmouseleave=function(){return document.body.classList.remove("clean")},r=function(t){var e,r;return null!=t&&""!==(e=t.image[t.image.length-1]["#text"])&&(background.style.backgroundImage=`url(${e})`,(r=copyright.children[1]).innerHTML=t.name+" <br> "+`<small>${t.artist["#text"]}</small>`,r.href="https://www.last.fm/user/Jayle23",copyright.children[0].src="./static/images/equalizer.gif",(r=window.lastfm.children[0]).firstChild.src=e,r.children[1].innerHTML=`${t.name}<br>
<small>${t.artist["#text"]}</small>`,document.body.classList.add("lastfm"),!0)},e=function(t){var e,t=t.images[0];return background.style.backgroundImage=`url(${"https://bing.com"+t.url})`,(e=copyright.children[1]).href=t.copyrightlink,e.text=t.copyright},n.api.lastfm.getNowPlaying("jayle23",function(t){if(!r(t))return n.api.image.getImage(e)})}}.call(this);